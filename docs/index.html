<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:微软雅黑;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@微软雅黑";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"标题 1 Char";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:"Calibri","sans-serif";}
h3
	{mso-style-link:"标题 3 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";}
h4
	{mso-style-link:"标题 4 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:156%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";}
h5
	{mso-style-link:"标题 5 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:156%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-link:"文档结构图 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:宋体;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
span.Char
	{mso-style-name:"批注框文本 Char";
	mso-style-link:批注框文本;}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-link:"标题 1";
	font-weight:bold;}
span.Char0
	{mso-style-name:"文档结构图 Char";
	mso-style-link:文档结构图;
	font-family:宋体;}
span.Char1
	{mso-style-name:"页眉 Char";
	mso-style-link:页眉;}
span.Char2
	{mso-style-name:"页脚 Char";
	mso-style-link:页脚;}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-link:"标题 3";
	font-weight:bold;}
span.4Char
	{mso-style-name:"标题 4 Char";
	mso-style-link:"标题 4";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.5Char
	{mso-style-name:"标题 5 Char";
	mso-style-link:"标题 5";
	font-weight:bold;}
 /* Page Definitions */
 @page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN style='text-justify-trim:punctuation'>

<div class=Section1 style='layout-grid:15.6pt'>

<h1><span style='font-family:"微软雅黑","sans-serif"'>基本原理</span></h1>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>Dib(</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>数据集成总线<span
lang=EN-US>)</span>不仅具有强大的<span lang=EN-US>ETL</span>功能，另外一大特色就是<span
lang=EN-US>CDC(Change Data Capture)</span>，基于增量数据，用于实时数据集成，特点有：</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Arial","sans-serif"'>&#8226;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>基于日志分析，对生产库的压力极小</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Arial","sans-serif"'>&#8226;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>高实时性</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Arial","sans-serif"'>&#8226;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>基于增量 </span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Arial","sans-serif"'>&#8226;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>安全可靠 </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img width=554
height=394 src="dibguide.files/image001.gif"></span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>典型场景</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US><img width=554 height=394
src="dibguide.files/image002.gif"></span></p>

<p class=MsoNormal><span lang=EN-US><img width=553 height=394 id="对象 2"
src="dibguide.files/image003.gif"></span></p>

<p class=MsoNormal><span lang=EN-US><img width=554 height=394 id="对象 3"
src="dibguide.files/image004.gif"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US><img width=554 height=394 id="对象 1"
src="dibguide.files/image005.gif"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US><img width=554 height=394 id="对象 4"
src="dibguide.files/image006.gif"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US><img width=554 height=394 id="对象 5"
src="dibguide.files/image007.gif"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>配置源端<span lang=EN-US>Oracle</span>数据库和<span
lang=EN-US>DIB</span>系统用户</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>首先确保您的计算机上已经安装了<span
lang=EN-US>JDK</span>和<span lang=EN-US>sqlplus</span>并设置了<span lang=EN-US>ORALE_SID</span>环境变量。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&lt;DIB</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>安装目录<span lang=EN-US>&gt;/lib/initsourcedb.jar</span>是一个可独立运行的<span
lang=EN-US>jar</span>，可在<span lang=EN-US>lib</span>目录下运行<span lang=EN-US>java
-jar initsourcedb.jar</span>，如图：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=500 height=65 src="dibguide.files/image008.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>然后按照提示完成配置。默认创建的<span
lang=EN-US>DIB</span>系统用户名为<span lang=EN-US>DIBADMIN</span>，事务引擎连接到源数据库的数据源必须使用此配置好的用户。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>配置目的端数据库</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>在目标用户下创建下列表，此用户用于创建数据源连接到目的数据库。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>Oracle</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>脚本</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>CREATE
TABLE V_DIB_TARGET_LOG (</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
SERVICE_NAME varchar(64) NOT NULL ,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
XID varchar(16) DEFAULT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHID NUMBER(18,0) DEFAULT 0,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHN NUMBER(18,0) DEFAULT 1,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
SCN number(38,0),</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
THREADN number(18,0),</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHSET varchar(1024)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>PostgreSQL</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>脚本</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>CREATE
TABLE v_dib_target_log (</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
SERVICE_NAME character varying(64) NOT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
XID character varying(16) NOT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHID numeric(18,0) DEFAULT 0,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHN numeric(18,0) DEFAULT 1,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
SCN numeric(38,0),</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
THREADN numeric(18,0),</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;
BRANCHSET character varying(1024)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>);</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>MySQL</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>脚本</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>CREATE
TABLE&nbsp; v_dib_target_log&nbsp; (</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
SERVICE_NAME&nbsp; varchar(64) NOT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
XID&nbsp; varchar(16) DEFAULT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
BRANCHID&nbsp; decimal(18,0) DEFAULT 0,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
BRANCHN&nbsp; decimal(18,0) DEFAULT 1,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
SCN&nbsp; decimal(38,0) DEFAULT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
THREADN&nbsp; decimal(18,0) DEFAULT NULL,</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;&nbsp;
BRANCHSET&nbsp; varchar(1024) DEFAULT NULL</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>创建事务引擎资源库</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>运行<span
lang=EN-US>dabi.bat</span>，出现资源库配置对话框：</span></p>

<p class=MsoNormal><span lang=EN-US><img width=396 height=347
src="dibguide.files/image009.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>点击右上角的</span><span
lang=EN-US><img width=18 height=20 id="图片 7" src="dibguide.files/image010.jpg"></span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>，如图：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=136 src="dibguide.files/image011.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>选择文件类型的资源库，点击确定，</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=539 height=191 src="dibguide.files/image012.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>选择资源库目录，<span
lang=EN-US>ID</span>和<span lang=EN-US>Name</span>都输入<span lang=EN-US>Main</span>，点击确定，之后自动进入开发管理界面。</span></p>

<h1><span style='font-family:宋体'>启动</span><span lang=EN-US>DIB Server</span></h1>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>dibserver.bat
&nbsp;127.0.0.1 &nbsp;2012 </span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>访问事务引擎</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>运行<span
lang=EN-US>dabi.bat</span>， 切换到<span lang=EN-US>Deltad perspective</span>，在地址栏输入<span
lang=EN-US>ip</span>地址和端口号，点击<span lang=EN-US>Go</span>！</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>配置数据源</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>点击<span
lang=EN-US>Wizard</span>按钮，从菜单中选择<span lang=EN-US>DataSource,</span>如图：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=303 height=173 id="图片 2" src="dibguide.files/image013.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>填写数据源名称，数据库类型，数据库名，用户名，密码，点击<span
lang=EN-US>Add</span>按钮添加主机名，端口号，还可以支持<span lang=EN-US>OracleRAC</span>连接的配置，然后点击<span
lang=EN-US>Test</span>测试连接，测试通过后可以点击<span lang=EN-US>Deploy</span>来部署这个数据源。部署以后可以双击打开这个数据源，点击<span
lang=EN-US>ViewSchema</span>来查看其中的用户和表的信息。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=320 id="图片 3" src="dibguide.files/image014.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>注意：用于事务引擎，这里的用户名必须是<span
lang=EN-US>DIB</span>系统用户名，是我在前面初始化数据库的时候创建的。默认是<span lang=EN-US>DIBADMIN</span>。</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>配置事务引擎</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>双击左边导航树中的<span
lang=EN-US>Transaction Engine</span></span></p>

<p class=MsoNormal><span lang=EN-US><img width=215 height=158 id="图片 4"
src="dibguide.files/image015.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>进入事务引擎配置界面：</span></p>

<p class=MsoNormal><span lang=EN-US><img width=553 height=396 id="图片 8"
src="dibguide.files/image016.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>选择数据源：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=89 id="图片 9" src="dibguide.files/image017.jpg"></span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>新建事务服务</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>点击<span
lang=EN-US>wizard</span>，选择<span lang=EN-US>Engine Service</span></span></p>

<p class=MsoNormal><span lang=EN-US><img width=133 height=84 id="图片 11"
src="dibguide.files/image018.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>进入<span
lang=EN-US>Service</span>配置界面</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=338 id="图片 12" src="dibguide.files/image019.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>双击列表中的<span
lang=EN-US>Schema</span>，其下的表名会出现在中间的列表中，选择要被捕捉的表，点击<span lang=EN-US>-&gt;</span>按钮，选入右边的列表中。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=554 height=311 id="图片 13" src="dibguide.files/image020.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>填入<span
lang=EN-US>service</span>名称，并点击<span lang=EN-US>Submit</span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=306 height=43 id="图片 14" src="dibguide.files/image021.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>然后回到<span
lang=EN-US>Transaction Engine</span>窗口，点击<span lang=EN-US>Regression</span>按钮，然后点击<span
lang=EN-US>Save</span>按钮，然后关闭并重新双击打开<span lang=EN-US>Transaction Engine</span>，可以看到右下方的<span
lang=EN-US>Regression</span>表格中已经出现了归约后的<span lang=EN-US>table</span>列表。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=396 id="图片 1" src="dibguide.files/image022.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>用同样的办法，用户可以创建多个<span
lang=EN-US>Service</span>，并重新归约。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>注：归约是将<span
lang=EN-US>Transaction Engine </span>的所有<span lang=EN-US>Service</span>的表进行归纳总结的结果。</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>启动事务引擎</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>点击<span
lang=EN-US>Start</span>即可启动事务引擎，启动后按钮文字会变成<span lang=EN-US>Stop</span>。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>Trouble
Shooting</span><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>：</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>如果后台报告异常“表或视图不存在”，那么说明事务引擎的数据源对应的用户或者数据库没有配置正确。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>创建和执行转换</span></h1>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>切换到<span
lang=EN-US>Data Integration perspective</span>，并创建转换</span></p>

<p class=MsoNormal><span lang=EN-US><img width=553 height=108 id="图片 18"
src="dibguide.files/image023.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>Deltad</span><span
style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>转换组</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=159 height=87 id="图片 19" src="dibguide.files/image024.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>拖拽<span
lang=EN-US>DeltaTXInput</span>转换控件到设计区，这个控件用于从消息队列接收增量数据，消息是由<span lang=EN-US>Transaction
Engine</span>产生的。并双击显示属性对话框</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=332 id="图片 26" src="dibguide.files/image025.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>注意这里<span
lang=EN-US>Destination</span>的规则是前面我们配置的事务服务名<span lang=EN-US>service1</span>加前缀“<span
lang=EN-US>DefaultTransactionEngine_”</span>。配置好后点击<span lang=EN-US>OK</span>。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>再拖拽<span
lang=EN-US>DeltaTXTransform</span>转换控件到设计区，这个控件用于对接收到的增量数据做一些简单的转换，双击图标打开对话框</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=233 id="图片 28" src="dibguide.files/image026.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>这里我们选择<span
lang=EN-US>TableMirroringInterceptor</span>，只做简单的<span lang=EN-US>Schema</span>映射，也就是将源表的<span
lang=EN-US>schema</span>名映射的目的数据库的<span lang=EN-US>schema</span>。（这里我们假设用户已经在目的数据库的<span
lang=EN-US>schema TARGETHR</span>下已经创建了对应的表结构），点击<span lang=EN-US>OK</span>。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>最后拖拽<span
lang=EN-US>DeltaTXExecutor</span>转换控件到设计区，这个控件用于将转换后的增量数据执行到目的数据库。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=553 height=239 id="图片 29" src="dibguide.files/image027.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>首先点击<span
lang=EN-US>New</span>按钮，创建目的数据库连接，其他的用默认设置即可，点击<span lang=EN-US>OK</span>。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>最后将三个控件顺序连接起来，按住鼠标中间滚轮，从源控件连接到目的控件。连接好以后，如图：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'><img
width=432 height=75 id="图片 30" src="dibguide.files/image028.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>保存转换后点击<span
lang=EN-US><img width=24 height=20 id="图片 31" src="dibguide.files/image029.jpg"></span>执行这个转换。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>这时我们往刚才选择的那些表中增加或者修改一些记录，稍后，再到目的数据源的<span
lang=EN-US>schema</span>下查看对应的表，发现变动已经同步过去了。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt;font-family:"微软雅黑","sans-serif"'>&nbsp;</span></p>

<h1><span style='font-family:"微软雅黑","sans-serif"'>事务服务的监控</span></h1>

<h1><span style='font-family:"微软雅黑","sans-serif"'>增量事务转换器</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
